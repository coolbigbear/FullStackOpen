(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),o=t(17),r=t.n(o),i=t(8),u=t(3),l=t(0),s=function(e){var n=e.newFilter,t=e.handleFilterChange;return Object(l.jsxs)("div",{children:["Filter: ",Object(l.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.addContact,t=e.newName,a=e.handleNameChange,c=e.newNumber,o=e.handleNumberChange;return Object(l.jsxs)("form",{onSubmit:n,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:t,onChange:a})]}),Object(l.jsxs)("div",{children:["Number: ",Object(l.jsx)("input",{value:c,onChange:o})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var n=e.contact,t=e.handleDelete;return Object(l.jsxs)("div",{children:[n.name," - ",n.number,Object(l.jsx)("button",{onClick:function(){return t(n)},children:"Delete"},n.id)]})},b=function(e){var n=e.personsToShow,t=e.handleDelete;return Object(l.jsx)("ul",{children:n.map((function(e){return Object(l.jsx)(j,{contact:e,handleDelete:t},e.id)}))})},h=t(4),f=t.n(h),m="/api/persons",O=function(){return f.a.get(m)},g=function(e){return f.a.post(m,e)},v=function(e,n){return console.log("Replacing note with id ".concat(e,", with data:")),console.log(n),f.a.put("".concat(m,"/").concat(e),n)},p=function(e){return f.a.delete("".concat(m,"/").concat(e))},x=function(e){var n=e.message,t=e.messageType;return null===n?null:t?Object(l.jsx)("div",{className:"positiveMessage",children:n}):Object(l.jsx)("div",{className:"negativeMessage",children:n})},w=(t(41),function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(t),r=Object(u.a)(o,2),j=r[0],h=r[1],f=Object(a.useState)(""),m=Object(u.a)(f,2),w=m[0],C=m[1],N=Object(a.useState)(""),S=Object(u.a)(N,2),F=S[0],y=S[1],D=Object(a.useState)(""),T=Object(u.a)(D,2),k=T[0],E=T[1],M=Object(a.useState)(null),I=Object(u.a)(M,2),J=I[0],L=I[1],P=Object(a.useState)(!1),A=Object(u.a)(P,2),B=A[0],R=A[1],U=function(e,n){n=Object(i.a)(Object(i.a)({},e),{},{number:n.number}),v(n.id,n).then((function(){O().then((function(e){console.log("Fetched all contacts"),console.log(e.data),c(e.data),h(e.data),L("Changed ".concat(n.name,"'s phone number")),R(!0),C(""),y(""),setTimeout((function(){L(null)}),5e3)}))}))};return Object(a.useEffect)((function(){O().then((function(e){console.log("promise fulfilled"),c(e.data),h(e.data)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(x,{message:J,messageType:B}),Object(l.jsx)("h2",{children:"Filter"}),Object(l.jsx)(s,{newFilter:k,handleFilterChange:function(e){E(e.target.value),console.log("Event: ",e.target.value),console.log("Filter: ",k),""===e.target.value?h(t):h(t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())})))}}),Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(d,{addContact:function(e){e.preventDefault();var n={name:w,number:F},a=t.find((function(e){return e.name===n.name}));if(void 0!==a)return console.log("Contact exists"),void(window.confirm("".concat(n.name," is already added, replace the old number?"))&&U(a,n));g(n).then((function(e){c(t.concat(e.data)),h(t.concat(e.data)),C(""),y(""),L("Added ".concat(e.data.name)),R(!0),setTimeout((function(){L(null)}),5e3)})).catch((function(e){console.log(e.response),L(e.response.data.error),R(!1)}))},newName:w,handleNameChange:function(e){C(e.target.value)},newNumber:F,handleNumberChange:function(e){y(e.target.value)},handleUpdatePerson:U}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(b,{personsToShow:j,handleDelete:function(e){window.confirm("Do you want to delete ".concat(e.name))&&p(e.id).then((function(){O().then((function(e){c(e.data),h(e.data)}))})).catch((function(n){L("Information of ".concat(e.name," already deleted")),setTimeout((function(){L(null)}),5e3),R(!1)}))}})]})});r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.9bfc5bbd.chunk.js.map