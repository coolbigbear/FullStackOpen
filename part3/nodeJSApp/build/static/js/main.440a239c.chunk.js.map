{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Contact.js","components/Persons.js","services/Contact.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addContact","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Contact","contact","handleDelete","name","number","onClick","id","Persons","personsToShow","map","baseUrl","axios","get","newObject","post","console","log","put","delete","Notifcation","message","messageType","className","App","useState","persons","setPersons","setPersonsToShow","setNewName","setNewNumber","setNewFilter","setMessage","setMessageType","handleUpdatePerson","oldContact","personsService","then","response","data","setTimeout","useEffect","Notification","event","target","filter","person","toLowerCase","includes","preventDefault","find","undefined","window","confirm","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.440a239c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n\r\n    return (\r\n        <div>\r\n            Filter: <input\r\n                value={newFilter}\r\n                onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst PersonForm = ({addContact, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n\r\n    return (\r\n        <form onSubmit={addContact}>\r\n            <div>\r\n                name: <input\r\n                    value={newName}\r\n                    onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                Number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst Contact = ({contact, handleDelete}) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            {contact.name} - {contact.number}\r\n            <button key={contact.id} onClick={() => handleDelete(contact)}>Delete</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Contact","import React from \"react\";\r\nimport Contact from \"./Contact\";\r\n\r\nconst Persons = ({personsToShow, handleDelete}) => {\r\n\r\n    return (\r\n        <ul>\r\n            {personsToShow.map(contact =>\r\n                <Contact key={contact.id} contact={contact} handleDelete={handleDelete}/>\r\n            )}\r\n        </ul>\r\n    )\r\n\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    console.log(`Replacing note with id ${id}, with data:`)\r\n    console.log(newObject)\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    remove: remove\r\n}","const Notifcation = ({ message, messageType }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (messageType) {\r\n        return (\r\n            <div className=\"positiveMessage\">\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"negativeMessage\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notifcation","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsService from './services/Contact'\r\nimport Notification from './components/Notification'\r\n\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [personsToShow, setPersonsToShow] = useState(persons)\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [messageType, setMessageType] = useState(false)\r\n\r\n  const addContact = (event) => {\r\n    event.preventDefault()\r\n    \r\n    const contact = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    let oldContact = persons.find(person => person.name === contact.name);\r\n    if (oldContact !== undefined) {\r\n      console.log(\"Contact exists\")\r\n      if (window.confirm(`${contact.name} is already added, replace the old number?`)) {\r\n        handleUpdatePerson(oldContact, contact)\r\n      }\r\n      return\r\n    }\r\n\r\n    personsService\r\n      .create(contact)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setPersonsToShow(persons.concat(response.data))\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n\r\n        setMessage(\r\n          `Added ${response.data.name}`\r\n        )\r\n        setMessageType(true)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n      })\r\n\r\n  }\r\n\r\n  const handleUpdatePerson = (oldContact, contact) => {\r\n\r\n    contact = { ...oldContact, number: contact.number}\r\n\r\n    personsService.update(contact.id, contact)\r\n      .then(() => {\r\n        personsService.getAll().then(response => {\r\n          console.log(\"Fetched all contacts\")\r\n          console.log(response.data)\r\n          setPersons(response.data)\r\n          setPersonsToShow(response.data)\r\n          setMessage(\r\n            `Changed ${contact.name}'s phone number`\r\n          )\r\n          setMessageType(true)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n      })\r\n    })\r\n  }\r\n\r\n  const handleDelete = (contact) => {\r\n\r\n    if (window.confirm(`Do you want to delete ${contact.name}`)) {\r\n      personsService\r\n        .remove(contact.id)\r\n        .then(() => {\r\n          personsService.getAll().then(response => {\r\n            setPersons(response.data)\r\n            setPersonsToShow(response.data)\r\n          })\r\n        })\r\n        .catch(error => {\r\n          setMessage(\r\n            `Information of ${contact.name} already deleted`\r\n          )\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setMessageType(false)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n    console.log(\"Event: \", event.target.value)\r\n    console.log(\"Filter: \", newFilter)\r\n    if (event.target.value === \"\") {\r\n      setPersonsToShow(persons)\r\n    } else {\r\n      setPersonsToShow(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response.data)\r\n        setPersonsToShow(response.data)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} messageType={messageType}></Notification>\r\n      <h2>Filter</h2>\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>Phonebook</h2>\r\n      <PersonForm addContact={addContact} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} handleUpdatePerson={handleUpdatePerson}/>\r\n      <h2>Numbers</h2>\r\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}