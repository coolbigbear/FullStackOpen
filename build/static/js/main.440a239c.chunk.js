(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(17),i=n.n(o),u=n(8),r=n(3),l=n(0),s=function(e){var t=e.newFilter,n=e.handleFilterChange;return Object(l.jsxs)("div",{children:["Filter: ",Object(l.jsx)("input",{value:t,onChange:n})]})},d=function(e){var t=e.addContact,n=e.newName,a=e.handleNameChange,c=e.newNumber,o=e.handleNumberChange;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:n,onChange:a})]}),Object(l.jsxs)("div",{children:["Number: ",Object(l.jsx)("input",{value:c,onChange:o})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.contact,n=e.handleDelete;return Object(l.jsxs)("div",{children:[t.name," - ",t.number,Object(l.jsx)("button",{onClick:function(){return n(t)},children:"Delete"},t.id)]})},b=function(e){var t=e.personsToShow,n=e.handleDelete;return Object(l.jsx)("ul",{children:t.map((function(e){return Object(l.jsx)(j,{contact:e,handleDelete:n},e.id)}))})},h=n(4),f=n.n(h),m="/api/persons",O=function(){return f.a.get(m)},g=function(e){return f.a.post(m,e)},v=function(e,t){return console.log("Replacing note with id ".concat(e,", with data:")),console.log(t),f.a.put("".concat(m,"/").concat(e),t)},p=function(e){return f.a.delete("".concat(m,"/").concat(e))},x=function(e){var t=e.message,n=e.messageType;return null===t?null:n?Object(l.jsx)("div",{className:"positiveMessage",children:t}):Object(l.jsx)("div",{className:"negativeMessage",children:t})},w=(n(41),function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(n),i=Object(r.a)(o,2),j=i[0],h=i[1],f=Object(a.useState)(""),m=Object(r.a)(f,2),w=m[0],C=m[1],N=Object(a.useState)(""),S=Object(r.a)(N,2),F=S[0],y=S[1],D=Object(a.useState)(""),T=Object(r.a)(D,2),k=T[0],E=T[1],M=Object(a.useState)(null),I=Object(r.a)(M,2),J=I[0],L=I[1],P=Object(a.useState)(!1),A=Object(r.a)(P,2),B=A[0],R=A[1],U=function(e,t){t=Object(u.a)(Object(u.a)({},e),{},{number:t.number}),v(t.id,t).then((function(){O().then((function(e){console.log("Fetched all contacts"),console.log(e.data),c(e.data),h(e.data),L("Changed ".concat(t.name,"'s phone number")),R(!0),setTimeout((function(){L(null)}),5e3)}))}))};return Object(a.useEffect)((function(){O().then((function(e){console.log("promise fulfilled"),c(e.data),h(e.data)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(x,{message:J,messageType:B}),Object(l.jsx)("h2",{children:"Filter"}),Object(l.jsx)(s,{newFilter:k,handleFilterChange:function(e){E(e.target.value),console.log("Event: ",e.target.value),console.log("Filter: ",k),""===e.target.value?h(n):h(n.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())})))}}),Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(d,{addContact:function(e){e.preventDefault();var t={name:w,number:F},a=n.find((function(e){return e.name===t.name}));if(void 0!==a)return console.log("Contact exists"),void(window.confirm("".concat(t.name," is already added, replace the old number?"))&&U(a,t));g(t).then((function(e){c(n.concat(e.data)),h(n.concat(e.data)),C(""),y(""),L("Added ".concat(e.data.name)),R(!0),setTimeout((function(){L(null)}),5e3)}))},newName:w,handleNameChange:function(e){C(e.target.value)},newNumber:F,handleNumberChange:function(e){y(e.target.value)},handleUpdatePerson:U}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(b,{personsToShow:j,handleDelete:function(e){window.confirm("Do you want to delete ".concat(e.name))&&p(e.id).then((function(){O().then((function(e){c(e.data),h(e.data)}))})).catch((function(t){L("Information of ".concat(e.name," already deleted")),setTimeout((function(){L(null)}),5e3),R(!1)}))}})]})});i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.440a239c.chunk.js.map